<p-table 
    #dt
    [value]="users" 
    [paginator]="true" 
    [scrollable]="true"
    scrollHeight="flex"
    breakpoint="768px"
    [rows]="5"
    [rowsPerPageOptions]="[5,10,20]"
    [globalFilterFields]="['name','email','role']"
    [(selection)]="selectedUsers"
    dataKey="id"
    [rowHover]="true">

    <!-- HEADER -->
    <ng-template pTemplate="header">
        <tr>
            <th style="width:40px">
                <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
            </th>
            <th pSortableColumn="name">Name <p-sortIcon field="name"></p-sortIcon></th>
            <th pSortableColumn="email">Email <p-sortIcon field="email"></p-sortIcon></th>
            <th pSortableColumn="role">Role <p-sortIcon field="role"></p-sortIcon></th>
            <th>Status</th>
            <th>Action</th>
        </tr>

        <!-- FILTER ROW -->
        <tr>
            <th></th>
            <th>
                <input pInputText type="text" (input)="dt.filter($event.target.value,'name','contains')" placeholder="Search name">
            </th>
            <th>
                <input pInputText type="text" (input)="dt.filter($event.target.value,'email','contains')" placeholder="Search email">
            </th>
            <th>
                <input pInputText type="text" (input)="dt.filter($event.target.value,'role','contains')" placeholder="Search role">
            </th>
            <th></th>
            <th></th>
        </tr>
    </ng-template>

    <!-- BODY -->
    <ng-template pTemplate="body" let-user>
        <tr>
            <td>
                <p-tableCheckbox [value]="user"></p-tableCheckbox>
            </td>
            <td>{{user.name}}</td>
            <td>{{user.email}}</td>
            <td>{{user.role}}</td>
            <td>
                <p-tag 
                    [value]="user.status" 
                    [severity]="user.status === 'Active' ? 'success' : 'danger'">
                </p-tag>
            </td>
            <td>
                <button pButton icon="pi pi-pencil" class="p-button-text"></button>
                <button pButton icon="pi pi-trash" class="p-button-text p-button-danger"></button>
            </td>
        </tr>
    </ng-template>

</p-table>